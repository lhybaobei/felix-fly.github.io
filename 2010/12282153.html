<!DOCTYPE html><html lang="zh-CN"><head><meta name="generator" content="Hexo 3.9.0"><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description"><title>eclipse使用maven插件发布项目缺少类的问题及解决方法 | 飞尘@IT草</title><link rel="icon" mask sizes="any" href="/favicon.png"><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.png"></head><link rel="stylesheet" type="text/css" href="/css/theme.css"><link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.css"><body><div class="container"><div class="header"><a class="logo" href="/.">飞尘@IT草</a><div class="nav-menu"><a class="current" href="/."><i class="icon-home"> 首页</i></a><a href="/archives/"><i class="icon-archive"> 归档</i></a><a href="/about/"><i class="icon-user"> 关于</i></a></div></div><div class="wrapper"><div class="main"><div class="post"><h1 class="post-title">eclipse使用maven插件发布项目缺少类的问题及解决方法</h1><div class="post-meta"><i class="icon-calendar"></i><span>2010-12-28</span><span> | </span><i class="icon-folder-open"></i><a href="/categories/编程开发/">编程开发</a><span> | </span><i class="icon-keyboard-o"></i><span>567 字 | </span><i class="icon-hourglass-half"></i><span>2 分钟</span></div><div class="post-content"><p>项目一直使用maven进行管理，在升级了eclipse到3.6版本后，导入原来的项目在tomcat中无法正常运行，错误为找不到某些类，原因其实是maven相关依赖包没有发布到项目的类路径下。  </p>
<p>经过一番查找，在国外一篇文章里看到了解决方法，经笔者测试有效，但不保证具有通用性，环境配置与项目关系很紧密，问题表现相似，但原因可能千差万别，多思考，即可迎刃而解。  </p>
<p><a href="http://www.mkyong.com/maven/eclipse-web-deployment-assembly-maven-dependencies-issue/" target="_blank" rel="noopener">英文原文在这里可以查看</a>  </p>
<p>下面是问题描述  </p>
<blockquote>
<p>In Eclipse 3.5 or early version, in order to deployed the Maven dependencies to the correct “/WEB-INF/lib” folder, you have to configure the dependencies via “Java EE Module Dependencies”, and the updated “.classpath” file will look like following :  </p>
<p>File : “.classpath”, by Java EE Module Dependencies…</p>
</blockquote>
<p>在eclipse 3.5 及之前的版本中，通过配置“Java EE Module Dependencies”选项，Maven dependencies会发布到“/WEB-INF/lib”路径下，在 “.classpath”文件中，可以看到类似下面的内容：  </p>
<p><code>xml ... ... \\n</code>  </p>
<blockquote>
<p>Since Eclipse 3.6, the “Java EE Module Dependencies” is replaced by “Web Deployment Assembly”, but you can do the same via the “Referenced Projects Classpath Entries”, however, it will update the “.classpath” file as following :</p>
</blockquote>
<p>在eclipse 3.6版本中，“Java EE Module Dependencies”选项被“Web Deployment Assembly”所代替，同样需要设置：  </p>
<p><code>xml ... ... \\n</code>  </p>
<blockquote>
<p>Sadly, the default (value=”../”) makes all the Maven’s dependencies failed to deploy.</p>
</blockquote>
<p>而value=”../”就会导致maven依赖包无法正确发布。  </p>
<p>解决方案：  </p>
<blockquote>
<p>Not a big issue, you still can modify the (value=”../”) to (value=”/WEB-INF/lib”) manually, but it will get override every time you run a Maven build. No worry, there are still have two solutions :  </p>
<p>1. WTP Support Ignore the “Referenced Projects Classpath Entries” settings, instead, make the Maven supports WTP 2.0  </p>
<p>mvn eclipse:eclipse -Dwtpversion=2.0 It will generate a new file named “org.eclipse.wst.common.component“, under “settings” folder, see a portion of this file :  </p>
<p>File : “org.eclipse.wst.common.component”, by WTP  </p>
<p><code>xml ... uses ...\\n</code> With WTP support, it helps to deploy the Maven dependencies to “/WEB-INF/lib” folder correctly.  </p>
<p>2. m2eclipse plugin Install the m2eclipse, an Eclipse plugin to integrate Maven into the Eclipse IDE. After the installation, right click on the project folder, select “Maven” –&gt; “Update Project Configuration“, it will update the “.classpath” file accordingly, see a snippet  </p>
<p>File : “.classpath”, by m2eclipse  </p>
<p><code>xml ... ...\\n</code> It helps to deploy the Maven dependencies correctly as well.</p>
</blockquote>
<p>上面的英文都比较简单，就不再详细翻译了，手工修改类路径会被重置，启用WTP支持或者使用m2eclipse插件即可完美解决。</p>
</div><div><ul class="post-copyright"><li class="post-copyright-author"><strong>本文作者：</strong>飞尘</li><li class="post-copyright-link"><strong>本文链接：</strong><a href="/2010/12282153.html">https://www.itcao.com/2010/12282153.html</a></li><li class="post-copyright-license"><strong>版权声明：</strong>本站所有文章除特别声明外，均可转载，转载请注明出处！</li></ul></div><br><div class="share"><i class="icon-share"></i><span>分享</span><div class="share-box"><i class="icon-weibo" title="微博" data-type="weibo"></i><i class="icon-qq" title="QQ" data-type="qq"></i><i class="icon-douban" title="豆瓣" data-type="douban"></i></div></div><div class="post-stags"><a href="/tags/eclipse/"><i class="icon-tag"></i>eclipse</a><a href="/tags/maven/"><i class="icon-tag"></i>maven</a><a href="/tags/class-not-found/"><i class="icon-tag"></i>class not found</a><a href="/tags/maven-dependency/"><i class="icon-tag"></i>maven dependency</a></div><div class="post-nav"><a class="pre" href="/2010/12292216.html"><i class="icon-prev"></i><span>解决eclipse更新安装插件慢的方法</span></a><a class="next" href="/2010/12251022.html"><span>使用css模拟实现圆角矩形兼容多浏览器</span><i class="icon-next"></i></a></div><div id="comment"></div></div></div><div class="sidebar"><div class="widget"><form class="search-form" action="//www.google.com/search" method="get" accept-charset="utf-8" target="_blank"><input type="text" name="q" maxlength="20" placeholder="Google Search"><input type="hidden" name="sitesearch" value="www.itcao.com"><i class="icon-google"></i></form></div><div class="widget"><form class="search-form" action="//www.baidu.com/baidu" method="get" accept-charset="utf-8" target="_blank"><input type="search" name="word" maxlength="20" placeholder="Baidu Search"><input type="hidden" name="si" value="www.itcao.com"><input name="tn" type="hidden" value="bds"><input name="cl" type="hidden" value="3"><input name="ct" type="hidden" value="2097152"><input name="s" type="hidden" value="on"><i class="icon-baidu"></i></form></div><div class="widget"><div class="widget-title"><i class="icon-folder-open"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/互联网络/">互联网络</a><span class="category-list-count">179</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/加密解密/">加密解密</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/文件分享/">文件分享</a><span class="category-list-count">45</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/电脑医生/">电脑医生</a><span class="category-list-count">77</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/编程开发/">编程开发</a><span class="category-list-count">182</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/职业生涯/">职业生涯</a><span class="category-list-count">13</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/随笔日记/">随笔日记</a><span class="category-list-count">55</span></li></ul></div><div class="widget"><div class="widget-title"><i class="icon-tag"> 标签</i></div><div class="tag-cloud"><a href="/tags/异常/" style="font-size: 12px;">异常</a> <a href="/tags/godaddy/" style="font-size: 24px;">godaddy</a> <a href="/tags/域名/" style="font-size: 22.91px;">域名</a> <a href="/tags/JavaScript/" style="font-size: 21.82px;">JavaScript</a> <a href="/tags/时间/" style="font-size: 13.09px;">时间</a> <a href="/tags/转换/" style="font-size: 13.09px;">转换</a> <a href="/tags/extjs/" style="font-size: 20.73px;">extjs</a> <a href="/tags/mysql/" style="font-size: 15.27px;">mysql</a> <a href="/tags/时区/" style="font-size: 12px;">时区</a> <a href="/tags/python/" style="font-size: 17.45px;">python</a> <a href="/tags/字符串/" style="font-size: 16.36px;">字符串</a> <a href="/tags/截取/" style="font-size: 12px;">截取</a> <a href="/tags/apache/" style="font-size: 19.64px;">apache</a> <a href="/tags/session/" style="font-size: 12px;">session</a> <a href="/tags/webpy/" style="font-size: 14.18px;">webpy</a> <a href="/tags/CryptoJS/" style="font-size: 13.09px;">CryptoJS</a> <a href="/tags/JQuery/" style="font-size: 18.55px;">JQuery</a> <a href="/tags/sha1/" style="font-size: 12px;">sha1</a> <a href="/tags/哈希/" style="font-size: 12px;">哈希</a> <a href="/tags/axure/" style="font-size: 12px;">axure</a> <a href="/tags/chm/" style="font-size: 12px;">chm</a> <a href="/tags/vbs/" style="font-size: 13.09px;">vbs</a> <a href="/tags/乱码/" style="font-size: 14.18px;">乱码</a> <a href="/tags/原型/" style="font-size: 12px;">原型</a> <a href="/tags/设计/" style="font-size: 12px;">设计</a> <a href="/tags/putty/" style="font-size: 13.09px;">putty</a> <a href="/tags/SecureCRT/" style="font-size: 12px;">SecureCRT</a> <a href="/tags/ssh/" style="font-size: 12px;">ssh</a> <a href="/tags/功能键/" style="font-size: 12px;">功能键</a> <a href="/tags/客户端/" style="font-size: 12px;">客户端</a></div></div></div></div><div class="footer">Copyright © 2008-2019 <a href="/." rel="nofollow">飞尘@IT草</a></div><a class="to-top" href="#top"><i class="icon-top"></i></a><script src="//cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js" defer="defer"></script><script src="//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js" defer="defer"></script><script src="/js/theme.js" defer="defer"></script><code>{
  &quot;args&quot;: {
    &quot;_&quot;: []
  },
  &quot;debug&quot;: false,
  &quot;safe&quot;: false,
  &quot;silent&quot;: false,
  &quot;env&quot;: &quot;development&quot;,
  &quot;version&quot;: &quot;3.9.0&quot;,
  &quot;init&quot;: true
}</code></div></body></html>