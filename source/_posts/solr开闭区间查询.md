---
title: solr开闭区间查询
tags:
  - solr
  - 开区间
  - 查询
  - 索引
  - 闭区间
url: 1121.html
id: 1121
categories:
  - 编程开发
date: 2011-11-28 20:37:05
---

在solr中经常会用到日期区间查询，例如：  

> timestamp:\[* TO NOW\] timestamp:\[NOW/DAY-3DAYS TO NOW\] timestamp:\[2011-01-01T00:00:00.000Z TO 2011-01-31T23:59:59.999Z\]

一般情况下使用\[\]设置范围，而\[\]表示的是闭区间，也就是包含端点值。  

如果不希望包含端点值，就需要用到开区间，用大括号来限定{}。  

但是对于半开区间，就无法设置了，在数学中常见的例子：  

> (0,1\]或者\[0,1)

如果都使用闭区间，端点值会重复计算，而都使用开区间，端点值又会被忽略。  

在facet.date中有端点值如何处理的设置。但是对于直接用区间进行查询就无法设置了，只能在程序中人为保证区间分段的正确性了。