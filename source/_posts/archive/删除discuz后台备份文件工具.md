---
title: 删除discuz后台备份文件工具
tags:
  - discuz
  - 删除备份
url: 78.html
id: 78
categories:
  - 文件分享
date: 2009-03-19 19:02:28
---

很多站长都在使用discuz,在使用的过程中总需要数据库的备份与恢复,本文就针对在备份中遇到的无法删除备份问题给予解决办法.  

之前也在官方论坛里搜了好久,同样问题的人很多,但是没找到解决方法,于是又海搜半天,还是未果,决定自己动手解决.  

问题表现为:恢复数据看到有记录,删除提交后,记录仍然存在,到文件里去看是只删除了备份的第一个分卷,其它的都未能删除,记录显示为未知备份,由shell生成,看到某人说过空间商说程序生成的文件无法通过ftp删除,只能程序自己删除,既然discuz不给我们删,那我们就自己动手来删,ftp不行,那我们就写程序删,真的很简单.  

看了些文章,找了些例子,拼拼凑凑于是就搞定了,就几行代码,可以将备份文件夹下面的除index.htm文件外的其它备份文件都删除,下载文件后,上传至formdata下,也就是与备份文件夹同级,先把文件里的目录名修改为你的备份文件夹名称,到浏览器使用论坛地址/formdata/文件名.php运行即可,然后就可以看看是不是死皮赖脸的文件已经没有踪影了阿!  

声明:如需转载,请注明出处,谢谢  

[del_bak.rar下载](http://cid-1f2c5513fd9f3c44.skydrive.live.com/self.aspx/%e9%ad%85%e8%81%9a%e8%8b%8f%e5%b7%9e/del%7C_bak.rar)